#!/bin/bash



# README.md.generator - —Å–∫—Ä–∏–ø—Ç –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ README.md –≤ —Ç–µ–∫—É—â–µ–º –∫–∞—Ç–∞–ª–æ–≥–µ.
# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ: –∫–æ—Ä–Ω–µ–≤–æ–π –∫–∞—Ç–∞–ª–æ–≥ —Ä–µ–ø–æ–∑–∏—Ç–∞—Ä–∏—è —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Ç–µ–∫—É—â–∏–º, –∑–∞–ø—É—Å—Ç–∏—Ç—å —Å–∫—Ä–∏–ø—Ç.
# –í–Ω–∏–º–∞–Ω–∏–µ! –°–∫—Ä–∏–ø—Ç —Å–æ–∑–¥–∞–Ω –∏—Å–∫—é—á–∏—Ç–µ–ª—å–Ω–æ –¥–ª—è –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏—è —Ç–µ–∫—É—â–µ–≥–æ —Ä–µ–ø–æ–∑–∏—Ç–∞—Ä–∏—è!



# *************************************************************************************************************************************************************
# * –ì–ª–æ–±–∞–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ (–≤ —Ç–æ–º —á–∏—Å–ª–µ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Ñ—É–Ω–∫—Ü–∏–π –æ–±—â–µ–≥–æ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è)
# *************************************************************************************************************************************************************



# *************************************************************************************************************************************************************
# * –§—É–Ω–∫—Ü–∏–∏ –æ–±—â–µ–≥–æ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è (–º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å, –∫–∞–∫ –±–∏–±–ª–∏–æ—Ç–µ—á–Ω—ã–µ)
# *************************************************************************************************************************************************************

# -----------------------------------------------------------------------------
# –§—É–Ω–∫—Ü–∏—è press_any_key_to_continue
# –∂–¥—ë—Ç –æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –Ω–∞–∂–∞—Ç–∏—è –ª—é–±–æ–π –∫–ª–∞–≤–∏—à–∏
#
# –ê—Ä–≥—É–º–µ–Ω—Ç—ã: –Ω–µ—Ç
# –í–æ–∑–≤—Ä–∞—â–∞–µ–º–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ: –Ω–µ—Ç
# -----------------------------------------------------------------------------
function press_any_key_to_continue {
	
	echo "Press any key to continue..."

	# -s: Do not echo input coming from a terminal
	# -n 1: Read one character
	read -s -n 1
	echo -en "\n"

	return 0
} # press_any_key_to_continue

# -----------------------------------------------------------------------------
# –§—É–Ω–∫—Ü–∏—è spinner
# –±–µ—Å–∫–æ–Ω–µ—á–Ω–æ –≤—ã–≤–æ–¥–∏—Ç –≤—Ä–∞—â–∞—é—â—É—é—Å—è –ø–∞–ª–∫—É –Ω–∞ —ç–∫—Ä–∞–Ω
#
# –ê—Ä–≥—É–º–µ–Ω—Ç—ã: –Ω–µ—Ç
# –í–æ–∑–≤—Ä–∞—â–∞–µ–º–æ–µ: –Ω–µ—Ç
# -----------------------------------------------------------------------------
function spinner {
	local i=1
	local -r symbols="/-\|"
	echo -n ' '
	while [[ true ]]; do
		printf "\b${symbols:i++%${#symbols}:1}"
		sleep .1
	done
} # spinner



# *************************************************************************************************************************************************************
# * –§—É–Ω–∫—Ü–∏–∏, —Ö–∞—Ä–∞–∫—Ç–µ—Ä–Ω—ã–µ —Ç–æ–ª—å–∫–æ –¥–ª—è –∑–∞–¥–∞—á —Ç–µ–∫—É—â–µ–≥–æ —Å–∫—Ä–∏–ø—Ç–∞
# *************************************************************************************************************************************************************

# -----------------------------------------------------------------------------
# –§—É–Ω–∫—Ü–∏—è readme_generator
# –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –≤ —Ç–µ–∫—É—â–µ–º –∫–∞—Ç–∞–ª–æ–≥–µ ($PWD) README.md –≤ stdout
#
# –ê—Ä–≥—É–º–µ–Ω—Ç—ã: –Ω–µ—Ç
# –í–æ–∑–≤—Ä–∞—â–∞–µ–º–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ: –Ω–µ—Ç
# -----------------------------------------------------------------------------
function readme_generator {

    local i

    # –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º —Ä–∞–∑–¥–µ–ª –í–≤–µ–¥–µ–Ω–∏–µ
    echo "# –í–≤–µ–¥–µ–Ω–∏–µ"
    echo ""
	echo "–í—ã—Ä–∞–∂–∞—é —Å–≤–æ—ë –≥–ª—É–±–æ–∫–æ–µ —É–≤–∞–∂–µ–Ω–∏–µ –∫ —Å–æ–∑–¥–∞—Ç–µ–ª—é –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ–π –∏–≥—Ä—ã –ê–ª–µ–∫—Å–µ—é –õ–µ–æ–Ω–∏–¥–æ–≤–∏—á—É –ü–∞–∂–∏—Ç–Ω–æ–≤—É, –∞ —Ç–∞–∫–∂–µ –≤–ª–∞–¥–µ–ª—å—Ü–∞–º –ª—é–±—ã—Ö –ø—Ä–∞–≤ –Ω–∞ –±—Ä–µ–Ω–¥ Tetris¬Æ. –î–∞–Ω–Ω—ã–π –∫–æ–¥ –Ω–∞–ø–∏—Å–∞–Ω –∏—Å–∫–ª—é—á–∏—Ç–µ–ª—å–Ω–æ –≤ —Ä–∞–∑–≤–ª–µ–∫–∞—Ç–µ–ª—å–Ω—ã—Ö –∏ –Ω–µ –∫–æ–º–º–µ—Ä—á–µ—Å–∫–∏—Ö —Ü–µ–ª—è—Ö –¥–ª—è —Å—É–≥—É–±–æ –ª–∏—á–Ω–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è. –í—Å–µ –ø—Ä–∞–≤–∞ –Ω–∞ Tetris¬Æ –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–∞—Ç —Ç–æ–ª—å–∫–æ –∏—Ö –∑–∞–∫–æ–Ω–Ω—ã–º –≤–ª–∞–¥–µ–ª—å—Ü–∞–º.<br/>"
    echo "<br/>"
	echo "–ü–æ—Å–≤—è—â–∞—é —ç—Ç—É —Ä–∞–±–æ—Ç—É –ê–ª–µ–∫—Å–∞–Ω–¥—Ä—É –Ø–∫–æ–≤–ª–µ–≤—É (17.05.1976 ‚Äî 08.07.2010), –∫–æ—Ç–æ—Ä—ã–π –±—É–¥—É—á–∏ –µ—â—ë —à–∫–æ–ª—å–Ω–∏–∫–æ–º –Ω–∞–ø–∏—Å–∞–ª —Å–≤–æ–π –≥–µ–Ω–∏–∞–ª—å–Ω—ã–π –∫–ª–æ–Ω –∑–Ω–∞–º–µ–Ω–∏—Ç–æ–π –∏–≥—Ä—ã ‚Äî BackGround Tetris. –ï–≥–æ –ø—Ä–æ–≥—Ä–∞–º–º–∞ btet.com[^1] —Ä–∞–±–æ—Ç–∞–ª–∞ –ø–æ–¥ –û–° MS-DOS –Ω–∞ –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–∞—Ö —Å –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–æ–π i286/i386. –û—Ç –º–Ω–æ–∂–µ—Å—Ç–≤–∞ –¥—Ä—É–≥–∏—Ö —Ä–µ–∑–∏–¥–µ–Ω—Ç–Ω—ã—Ö –ø—Ä–æ–≥—Ä–∞–º–º —Ç–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏, –≤ —Ç–æ–º —á–∏—Å–ª–µ —Ä–µ–∑–∏–¥–µ–Ω—Ç–Ω—ã—Ö —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–π –¢–µ—Ç—Ä–∏—Å–∞, –µ—ë –æ—Ç–ª–∏—á–∞–ª –ø—Ä–∏–º–µ–Ω—ë–Ω–Ω—ã–π –∞–≤—Ç–æ—Ä–æ–º –ø–æ–¥—Ö–æ–¥: —ç–º—É–ª–∏—Ä–æ–≤–∞–ª–∞—Å—å –º–Ω–æ–≥–æ–∑–∞–¥–∞—á–Ω–æ—Å—Ç—å, –º–æ–∂–Ω–æ –±—ã–ª–æ –∏–≥—Ä–∞—Ç—å –≤ –∏–≥—Ä—É, –ø–æ–∫–∞ –Ω–∞ –∫–æ–º–ø—å—é—Ç–µ—Ä–µ –≤—ã–ø–æ–ª–Ω—è–ª–∏—Å—å –¥—Ä—É–≥–∏–µ –ø—Ä–æ–≥—Ä–∞–º–º—ã. –î–ª—è –ø—Ä–æ–≥—Ä–∞–º–º —Ç–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏ —ç—Ç–æ –±—ã–ª–æ —Å–æ–≤—Å–µ–º –Ω–µ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–Ω–æ –∏ –≤—ã–≥–ª—è–¥–µ–ª–æ –æ—á–µ–Ω—å –∏–Ω–Ω–æ–≤–∞—Ü–∏–æ–Ω–Ω–æ. ¬´–ú–Ω–æ–≥–æ–∑–∞–¥–∞—á–Ω–æ—Å—Ç—å¬ª –≤ MS-DOS –Ω–∞—Å—Ç–æ–ª—å–∫–æ —Å–º—É—â–∞–ª–∞ –ª—é–¥–µ–π —Ç–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏, —á—Ç–æ —É –º–µ–Ω—è –¥–∞–∂–µ —Å–æ—Å—Ç–æ—è–ª—Å—è —Å–ø–æ—Ä —Å–æ —Å–≤–æ–∏–º –¥—Ä—É–≥–æ–º –Ω–∞ —Ç–µ–º—É —Ç–æ–≥–æ, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –ª–∏ btet.com –∑–∞—â–∏—â—ë–Ω–Ω—ã–π —Ä–µ–∂–∏–º –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–∞ –∏–ª–∏ –Ω–µ—Ç (–æ—Ç–≤–µ—Ç - ¬´–Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç¬ª).<br/>" 
    echo "<br/>"
	echo "–¢–∞–∫–∂–µ –ø–æ—Å–≤—è—â–∞—é —ç—Ç—É —Ä–∞–±–æ—Ç—É –ê–ª–µ–∫—Å–∞–Ω–¥—Ä—É –õ–∏–ø–∞—Ç–æ–≤—É (29.04.1976 ‚Äî 22.07.2023), —Å –∫–æ—Ç–æ—Ä—ã–º –º—ã (—è –∏ –ú–∞–Ω—É—à–∫–∏–Ω –ì—Ä–∏–≥–æ—Ä–∏–π) –≤ –¥–∞–ª—ë–∫–æ–º 1994 –≥–æ–¥—É, –ø–æ–ª–Ω—ã–µ –Ω–∞–¥–µ–∂–¥, –º–µ—á—Ç–∞–Ω–∏–π –∏ —ç–Ω—Ç—É–∑–∏–∞–∑–º–∞, –≥–æ—Ç–æ–≤–∏–ª–∏—Å—å –∫ –∫–æ–Ω–∫—É—Ä—Å—É ¬´Softool\'–∏–π—Å–∫–∏–µ –∏–≥—Ä—ã¬ª[^2] –Ω–∞ –≤—ã—Å—Ç–∞–≤–∫–µ SofTool\'94. –≠—Ç–æ –≤—Ä–µ–º—è –±—ã–ª–æ –æ–¥–Ω–∏–º –∏–∑ –ª—É—á—à–∏—Ö –≤ –º–æ–µ–π –∂–∏–∑–Ω–∏! –ö —Å–æ–∂–∞–ª–µ–Ω–∏—é, —Ä–∞–±–æ—Ç—ã –ê–ª–µ–∫—Å–∞–Ω–¥—Ä–∞ —É –º–µ–Ω—è –Ω–µ—Ç. –ó–Ω–∞—é —Ç–æ–ª—å–∫–æ, —á—Ç–æ –ê–ª–µ–∫—Å–∞–Ω–¥—Ä —Å–≤–æ—ë –∑–∞–¥–∞–Ω–∏–µ –≤—ã–ø–æ–ª–Ω–∏–ª, –∏ —Ç–æ–ª—å–∫–æ –∫–∞–∫–æ–µ-—Ç–æ —Å—Ç–µ—á–µ–Ω–∏–µ –æ–±—Å—Ç–æ—è—Ç–µ–ª—å—Å—Ç–≤ –ø–æ–º–µ—à–∞–ª–æ –Ω–∞–º –ø–æ–µ—Ö–∞—Ç—å –≤ –ú–æ—Å–∫–≤—É –∏ –ø—Ä–∏–Ω—è—Ç—å —É—á–∞—Å—Ç–∏–µ –≤ –∫–æ–Ω–∫—É—Ä—Å–µ.<br/>"
	echo "|![–ê–ª–µ–∫—Å–∞–Ω–¥—Ä –Ø–∫–æ–≤–ª–µ–≤ (—Å–ª–µ–≤–∞) –∏ –ê–ª–µ–∫—Å–∞–Ω–¥—Ä –õ–∏–ø–∞—Ç–æ–≤ (—Å–ø—Ä–∞–≤–∞)](images/yakovlev_alex%20(left)%2C%20lipatov_alex%20(right)%2C%20~1993%20year.png)|![–ê–ª–µ–∫—Å–∞–Ω–¥—Ä –õ–∏–ø–∞—Ç–æ–≤](images/lipatov_alex%2C%20~1994%20year.png)        |"
	echo "|------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------------------------------|"
	echo "| –ê–ª–µ–∫—Å–∞–Ω–¥—Ä –Ø–∫–æ–≤–ª–µ–≤ (—Å–ª–µ–≤–∞) –∏ –ê–ª–µ–∫—Å–∞–Ω–¥—Ä –õ–∏–ø–∞—Ç–æ–≤ (—Å–ø—Ä–∞–≤–∞), –ø—Ä–µ–¥–ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω–æ –Ω–∞ –≤—ã–ø—É—Å–∫–Ω–æ–º –≤–µ—á–µ—Ä–µ –≤ –õ–∏—Ü–µ–µ ‚Ññ14 –≥. –¢–∞–º–±–æ–≤ (1993 –≥–æ–¥)            | –ê–ª–µ–∫—Å–∞–Ω–¥—Ä –õ–∏–ø–∞—Ç–æ–≤, –ø—Ä–µ–¥–ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω–æ 1994 –≥–æ–¥ - —Ç–∞–∫–∏–º —è –µ–≥–æ –∏ –∑–∞–ø–æ–º–Ω–∏–ª |"
	echo "[^1]: [–°—Å—ã–ª–∫–∞](/retro/btet) –Ω–∞ –º–æ–π —ç–∫–∑–µ–º–ø–ª—è—Ä BackGround Tetris, –∫–æ—Ç–æ—Ä—ã–π —Ö—Ä–∞–Ω—é —É–∂–µ –±–æ–ª–µ–µ 30 –ª–µ—Ç."
    echo "[^2]: –ú–æ—è —Ä–∞–±–æ—Ç–∞ –∫ –∫–æ–Ω–∫—É—Ä—Å—É –¥–æ—Å—Ç—É–ø–Ω–∞ –ø–æ [—Å—Å—ã–ª–∫–µ](/retro/SofTool%6094)."
    echo ""

    # –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º —Ä–∞–∑–¥–µ–ª –û–ø–∏—Å–∞–Ω–∏–µ
    echo "# –û–ø–∏—Å–∞–Ω–∏–µ"
    echo ""
    for i in $(git ls-files sources/*.bash); do
        sed -nE '2 s/^(abs.*\.bash)(\ -\ .*)$/**\1**\2<br\/>\n/p' <(./"$i" --help)
    done
    echo ""

    # –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º —Ä–∞–∑–¥–µ–ª –£—Å—Ç–∞–Ω–æ–≤–∫–∞
    cat <<EOF
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞

–ù–∏–∫–∞–∫–∞—è —Å–ø–µ—Ü–∏–∞–ª—å–Ω–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞ –Ω–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è.

1. **sources/abstet18+.bash** —Ä–∞–∑–º–µ—Å—Ç–∏—Ç—å –≤ –ª—é–±–æ–º –¥–æ—Å—Ç—É–ø–Ω–æ–º –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∫–∞—Ç–∞–ª–æ–≥–µ<br/>
0. **sources/backgrounds** - –∫–∞—Ç–∞–ª–æ–≥ —Å —Ñ–æ–Ω–æ–≤—ã–º–∏ ascii –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è–º–∏ - —Ä–∞—Å–ø–æ–ª–æ–∂–∏—Ç—å –≤ –∫–∞—Ç–∞–ª–æ–≥–µ —Å–æ —Å–∫—Ä–∏–ø—Ç–æ–º abstet18+.bash. –ü—Ä–∏ –ø–æ–º–æ—â–∏ –∫–ª—é—á–µ–π abstet18+.bash –º–æ–∂–Ω–æ –∑–∞–¥–∞—Ç—å –¥—Ä—É–≥–æ–µ —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ –∫–∞—Ç–∞–ª–æ–≥–∞. –ú–æ–∂–Ω–æ –Ω–µ —Ä–∞–∑–º–µ—â–∞—Ç—å —ç—Ç–æ—Ç –∫–∞—Ç–∞–ª–æ–≥: –≤ —ç—Ç–æ–º —Å–ª—É—á–∞–µ —Ñ–æ–Ω–æ–≤—ã—Ö –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –Ω–∞ —É—Ä–æ–≤–Ω—è—Ö –Ω–µ –±—É–¥–µ—Ç, –æ—à–∏–±–æ–∫ —Å–∫—Ä–∏–ø—Ç –≤—ã–¥–∞–≤–∞—Ç—å —Ç–∞–∫–∂–µ –Ω–µ –±—É–¥–µ—Ç.
0. **sources/abstet18+-completion** - —Ñ–∞–π–ª –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏—Ö –¥–æ–ø–æ–ª–Ω–µ–Ω–∏–π –¥–ª—è abstet18+.bash - —Ä–∞–∑–º–µ—Å—Ç–∏—Ç—å –≤ /etc/bash_completion.d/ (—Ä–∞–±–æ—Ç–∞–µ—Ç –≤ Fedora 40)<br/>

EOF

    # –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º —Ä–∞–∑–¥–µ–ª –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
    echo "# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ"
    echo ""
    for i in $(git ls-files sources/*.bash); do
        echo "## $i"
        echo '```'
        tail -n +6 <(./"$i" --help)
        echo -e '```\n'
    done
    echo ""

    # –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º —Ä–∞–∑–¥–µ–ª –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤ –∏–≥—Ä–µ
    cat <<EOF
# –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤ –∏–≥—Ä–µ

|–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∏–≥—Ä–æ–π|   |
|----------------|---|
|–Ω–æ–≤–∞—è –∏–≥—Ä–∞      | n |
|–≤—ã–π—Ç–∏ –∏–∑ –∏–≥—Ä—ã   | q |
|–ø–∞—É–∑–∞           | p |

|–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ñ–∏–≥—É—Ä–æ–π              |          |
|--------------------------------|----------|
|–ø–µ—Ä–µ–º–µ—â–µ–Ω–∏–µ –≤–ª–µ–≤–æ               | ‚Üê        |
|–ø–µ—Ä–µ–º–µ—â–µ–Ω–∏–µ –≤–ø—Ä–∞–≤–æ              | ‚Üí        |
|–≤—Ä–∞—â–µ–Ω–∏–µ –ø–æ —á–∞—Å–æ–≤–æ–π —Å—Ç—Ä–µ–ª–∫–µ     | ‚Üë        |
|–≤—Ä–∞—â–µ–Ω–∏–µ –ø—Ä–æ—Ç–∏–≤ —á–∞—Å–æ–≤–æ–π —Å—Ç—Ä–µ–ª–∫–∏ | Ctrl + ‚Üë |
|—Å–±—Ä–æ—Å soft                      | ‚Üì        |
|—Å–±—Ä–æ—Å hard                      | Space    |

|–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —É—Ä–æ–≤–Ω–µ–º|   |
|------------------|---|
|—É–≤–µ–ª–∏—á–∏—Ç—å         | + |
|—É–º–µ–Ω—å—à–∏—Ç—å         | - |

|–ü—Ä–æ—á–µ–µ                                      |   |
|--------------------------------------------|---|
|–ø–µ—Ä–µ—Ä–∏—Å–æ–≤–∞—Ç—å —ç–∫—Ä–∞–Ω                          | r |
|–≤–∫–ª—é—á–∏—Ç—å –∏–ª–∏ –≤—ã–∫–ª—é—á–∏—Ç—å –ø–æ–¥—Å–∫–∞–∑–∫—É –ø–æ –∫–ª–∞–≤–∏—à–∞–º| h |

|–ü–µ—Ä–µ–º–µ—â–µ–Ω–∏–µ –∏–≥—Ä–æ–≤–æ–≥–æ –ø–æ–ª—è –≤ –æ–∫–Ω–µ —Ç–µ—Ä–º–∏–Ω–∞–ª–∞|         |
|------------------------------------------|---------|
|–≤–ª–µ–≤–æ                                     | Alt + ‚Üê |
|–≤–ø—Ä–∞–≤–æ                                    | Alt + ‚Üí |
|–≤–≤–µ—Ä—Ö                                     | Alt + ‚Üë |
|–≤–Ω–∏–∑                                      | Alt + ‚Üì |

|–í—ã—Ä–∞–≤–Ω–∏–≤–∞–Ω–∏–µ –∏–≥—Ä–æ–≤–æ–≥–æ –ø–æ–ª—è –≤ –æ–∫–Ω–µ —Ç–µ—Ä–º–∏–Ω–∞–ª–∞|        |
|-------------------------------------------|--------|
|–ø–æ –ª–µ–≤–æ–π –≥—Ä–∞–Ω–∏—Ü–µ –æ–∫–Ω–∞                      | Home   |
|–ø–æ –ø—Ä–∞–≤–æ–π –≥—Ä–∞–Ω–∏—Ü–µ –æ–∫–Ω–∞                     | End    |
|–ø–æ –≤–µ—Ä—Ö–Ω–µ–π –≥—Ä–∞–Ω–∏—Ü–µ –æ–∫–Ω–∞                    | PgUp   |
|–ø–æ –Ω–∏–∂–Ω–µ–π –≥—Ä–∞–Ω–∏—Ü–µ –æ–∫–Ω–∞                     | PgDown |

EOF

    # –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º —Ä–∞–∑–¥–µ–ª –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
    echo "# –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞"
    echo ""
    for i in $(git ls-files sources/*.bash); do
        echo "## $i"
        echo '```'
		echo "  —Å—Ç—Ä–æ–∫ –∫–æ–¥–∞ -------------- $(grep -E --line-regexp --invert-match '[[:blank:]]*#.*?|[[:blank:]]*' ./${i} | wc -l)"
		echo "  –æ–±—ä—ë–º –∫–æ–¥–∞ -------------- $(grep -E --line-regexp --invert-match '[[:blank:]]*#.*?|[[:blank:]]*' ./${i} | wc -c) —Å–∏–º–≤–æ–ª–æ–≤"
		echo "  –∫–æ–Ω—Ç—Ä–æ–ª—å–Ω–∞—è —Å—É–º–º–∞ MD5 --- $(md5sum ./${i} | awk '{ print $1 }')"
        echo -e '```\n'
    done
    echo ""

    # –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º —Å—Ç–∞—Ç—É—Å–Ω—É—é –ª–∏–Ω–∏—é
    cat <<EOF
<br/>
<br/>
<br/>

---
¬© 2024 Sergey Vasiliev<br/>
- <a href="mailto:vasiliev.s@komdiv.org" target="_blank">vasiliev.s@komdiv.org</a><br/>
- <a href="mailto:abs.tambov@gmail.com" target="_blank">abs.tambov@gmail.com</a><br/>
EOF

	return 0
} # readme_generator

# -----------------------------------------------------------------------------
# –§—É–Ω–∫—Ü–∏—è main
# –≥–ª–∞–≤–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è —Å–∫—Ä–∏–ø—Ç–∞
#
# –ê—Ä–≥—É–º–µ–Ω—Ç—ã: –Ω–µ—Ç
# –í–æ–∑–≤—Ä–∞—â–∞–µ–º–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ: –Ω–µ—Ç
# -----------------------------------------------------------------------------
function main {

	local spinner_pid		# –°–æ–¥–µ—Ä–∂–∏—Ç pid –≤—ã–ø–æ–ª–Ω—è–µ–º–æ–π –≤ —Ñ–æ–Ω–µ —Ñ—É–Ω–∫—Ü–∏–∏

	# -----------------------------------------------------------------------------
	# –§—É–Ω–∫—Ü–∏—è ctrl_c
	# –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –ø—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ Ctrl+C
	#
	# –ê—Ä–≥—É–º–µ–Ω—Ç—ã: –Ω–µ—Ç
	# –í–æ–∑–≤—Ä–∞—â–∞–µ–º–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ: –Ω–µ—Ç
	# -----------------------------------------------------------------------------
	function ctrl_c {
		
		# –û—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —Å–ø–∏–Ω–Ω–µ—Ä –∏ —á–∏—Å—Ç–∏–º —ç–∫—Ä–∞–Ω –ø–æ—Å–ª–µ –Ω–µ–≥–æ –∏ press_any_key_to_continue
		kill $spinner_pid && wait $spinner_pid 2>/dev/null
		tput cr 	# carriage_return (cr/) cr  carriage return (P*) (P*)
		tput cuu1	# cursor_up (cuu1/up)  up one line
		tput el		# clr_eol (el/ce) clear to end of line (P)

		echo ""
		echo "–û—Ç–º–µ–Ω–µ–Ω–æ."

		exit 0
	} # ctrl_c

	# -----------------------------------------------------------------------------

	if [[ -w README.md ]]; then
		echo -n "README.md —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –≤ ${PWD} –∏ –±—É–¥–µ—Ç –ø–µ—Ä–µ–ø–∏—Å–∞–Ω! "
	else
		echo -n "–ë—É–¥–µ—Ç —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω –Ω–æ–≤—ã–π README.md –≤ ${PWD}. "
	fi
	echo "–ò–ª–∏ –Ω–∞–∂–º–∏—Ç–µ Ctrl+C –¥–ª—è –æ—Ç–º–µ–Ω—ã."

	# –ó–∞–ø—É—Å–∫–∞–µ–º —Å–ø–∏–Ω–Ω–µ—Ä
	spinner &
	spinner_pid=$!

	# –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —Ñ—É–Ω–∫—Ü–∏—é-–æ–±—Ä–∞–±–æ—Ç—á–∏–∫ Ctrl+C (—Å–∏–≥–Ω–∞–ª SIGINT)
	trap ctrl_c SIGINT

	# ...
	press_any_key_to_continue
	readme_generator >README.md

	# –û—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —Å–ø–∏–Ω–Ω–µ—Ä –∏ —á–∏—Å—Ç–∏–º —ç–∫—Ä–∞–Ω –ø–æ—Å–ª–µ –Ω–µ–≥–æ –∏ press_any_key_to_continue
	kill $spinner_pid && wait $spinner_pid 2>/dev/null
	tput cr 	# carriage_return (cr/) cr  carriage return (P*) (P*)
	tput cuu1	# cursor_up (cuu1/up)  up one line
	tput cuu1	# cursor_up (cuu1/up)  up one line
	tput el		# clr_eol (el/ce) clear to end of line (P)

	echo ""
	echo "–ì–æ—Ç–æ–≤–æ."

    return 0
} # main



# *************************************************************************************************************************************************************
# * –°–∞–º —Å–∫—Ä–∏–ø—Ç üòä
# *************************************************************************************************************************************************************

main "$@"
exit $?

# *************************************************************************************************************************************************************

